<?xml version="1.0" encoding="UTF-8"?>
<!--
  The parent maven for the javaee project that expects a structure like: 
    build/pom.xml
    jboss-ejb-api/pom.xml
    jboss-jacc-api/pom.xml
    jboss-jad-api/pom.xml
    jboss-jaspi-api/pom.xml
    jboss-jaxr-api/pom.xml
    jboss-jaxs-api/pom.xml
    jboss-jca-api/pom.xml
    jboss-jms-api/pom.xml
    jboss-persistence-api/pom.xml
    jboss-servlet-api/pom.xml
    jboss-transaction-api/pom.xml
  
  This pom aggregates the subproject poms, and it also functions as a default 
  configuration.  The subproject poms each inherit configuration from this one.
  
  To build this project maven 2 should be installed and in the system path. 
  From the command line run "mvn" from the build directory and "install" will 
  be used as the default goal. The build.id should be updated to create unique
  artifacts for the subprojects.
  
  To add a module edit the modules section and add the module also to 
  assembly/bin.xml and assembly.sources.xml.
-->
<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"  
    xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <parent>
    <groupId>org.jboss</groupId>
    <artifactId>jboss-parent</artifactId>
    <version>3</version>
  </parent>
  <modelVersion>4.0.0</modelVersion>
  <groupId>org.jboss.javaee</groupId>
  <artifactId>jboss-javaee</artifactId>
  <version>5.0.0.Beta3</version>
  <packaging>pom</packaging>
  <name>JBoss JavaEE 5.0 Build</name>
  <url>http://www.jboss.com</url>
  <description>
    The JBoss JavaEE API classes
  </description>
  <scm>
    <connection>scm:svn:http://anonsvn.jboss.org/repos/jbossas/projects/javaee/trunk</connection>
    <developerConnection>scm:svn:https://svn.jboss.org/repos/jbossas/projects/javaee/trunk</developerConnection>
  </scm>

  <properties>
    <!-- The unique build id for the javaee release -->
    <build.id>20070913080910</build.id>
    <version.jboss.common.core>2.2.1.GA</version.jboss.common.core>
    <version.jboss-ejb-api>3.0.0.${build.id}</version.jboss-ejb-api>
    <version.jboss-jacc-api>1.1.0.${build.id}</version.jboss-jacc-api>
    <version.jboss-jad-api>1.2.0.${build.id}</version.jboss-jad-api>
    <version.jboss-jaspi-api>1.0.0.BETA1-${build.id}</version.jboss-jaspi-api>
    <version.jboss-jaxr-api>1.0.0.${build.id}</version.jboss-jaxr-api>
    <version.jboss-jaxs-api>1.2.0.${build.id}</version.jboss-jaxs-api>
    <version.jboss-jca-api>1.5.0.${build.id}</version.jboss-jca-api>
    <version.jboss-jms-api>1.1.0.${build.id}</version.jboss-jms-api>
    <version.jboss-persistence-api>3.0.0.${build.id}</version.jboss-persistence-api>
    <version.jboss-servlet-api>2.5.0.${build.id}</version.jboss-servlet-api>
    <version.jboss-transaction-api>1.0.1.${build.id}</version.jboss-transaction-api>
  </properties>

  <build>
    <sourceDirectory>src/main</sourceDirectory>
    <testSourceDirectory>src/tests</testSourceDirectory>
    <finalName>${artifactId}</finalName>
    <resources>
      <resource>
        <directory>src/etc</directory>
        <includes>
          <include>**/*</include>
        </includes>
        <filtering>true</filtering>
      </resource>
    </resources>
    <testResources>
      <testResource>
        <directory>src/resources</directory>
        <includes>
          <include>**/*</include>
        </includes>
        <filtering>true</filtering>
      </testResource>
    </testResources>
    <plugins>
      <!-- define that we wish to create src jars -->
      <plugin>
        <artifactId>maven-source-plugin</artifactId>
        <version>2.0</version>
        <inherited>true</inherited>
        <executions>
          <execution>
            <goals>
              <goal>jar</goal>
            </goals>
          </execution>
        </executions>
      </plugin>

      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-assembly-plugin</artifactId>
        <version>2.2-beta-1</version>
        <executions>
          <execution>
            <goals>
              <goal>attached</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <descriptors>
            <descriptor>assembly/bin.xml</descriptor>
            <descriptor>assembly/sources.xml</descriptor>
          </descriptors>
        </configuration>
        <inherited>false</inherited>
      </plugin>
      <plugin>
        <artifactId>maven-surefire-plugin</artifactId>
        <configuration>
          <printSummary>false</printSummary>
          <testFailureIgnore>true</testFailureIgnore>
          <includes>
            <include>**/**TestCase.java</include>
          </includes>
          <skip>true</skip>
        </configuration>
      </plugin>
      <plugin>
        <groupId>org.jboss.maven.plugins</groupId>
        <artifactId>maven-jboss-deploy-plugin</artifactId>
        <version>1.4</version>
        <executions>
          <execution>
            <goals>
              <goal>jboss-deploy</goal>
            </goals>
          </execution>
        </executions>
        <configuration>
          <jbossDeployRoot>${jboss.repository.root}</jbossDeployRoot>
          <groupId>jboss</groupId>
        </configuration>
        <inherited>true</inherited>
      </plugin>
      <plugin>
        <artifactId>maven-release-plugin</artifactId>
        <configuration>
           <tagBase>https://svn.jboss.org/repos/jbossas/projects/javaee/tags</tagBase>
        </configuration>
      </plugin>
    </plugins>
  </build>
  <repositories>
    <repository>
      <id>repository.jboss.org</id>
      <name>JBoss Repository</name>
      <layout>default</layout>
      <url>http://repository.jboss.org/maven2/</url>
      <snapshots>
        <enabled>false</enabled>
      </snapshots>
    </repository>

    <repository>
      <id>snapshots.jboss.org</id>
      <name>JBoss Snapshots Repository</name>
      <layout>default</layout>
      <url>http://snapshots.jboss.org/maven2/</url>
      <snapshots>
         <enabled>true</enabled>
      </snapshots>
      <releases>
         <enabled>false</enabled>
      </releases>
    </repository>
  </repositories>
  <modules>
    <module>../jboss-ejb-api</module>
    <module>../jboss-jacc-api</module>
    <module>../jboss-jad-api</module>
    <module>../jboss-jaxr-api</module>
    <module>../jboss-jaxs-api</module>
    <module>../jboss-jca-api</module>
    <module>../jboss-jms-api</module>
    <module>../jboss-persistence-api</module>
    <module>../jboss-servlet-api</module>
    <module>../jboss-transaction-api</module>
    <module>../jboss-jaspi-api</module>
  </modules>
  <reporting>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-project-info-reports-plugin</artifactId>
        <reportSets>
          <reportSet>
            <reports>
              <report>dependencies</report>
              <report>issue-tracking</report>
              <report>license</report>
              <report>scm</report>
            </reports>
          </reportSet>
        </reportSets>
      </plugin>
    </plugins>
  </reporting>
  <dependencyManagement>
    <!-- The parent pom manages the inter-dependencies of the modules. -->
    <dependencies>
      <dependency>
        <groupId>org.jboss</groupId>
        <artifactId>jboss-common-core</artifactId>
        <version>${version.jboss.common.core}</version>
      </dependency>
    </dependencies>
  </dependencyManagement>

</project>
